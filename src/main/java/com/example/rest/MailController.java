package com.example.rest;

import com.example.models.SignUpEmailConfirmationModel;
import com.sendgrid.Method;
import com.sendgrid.Request;
import com.sendgrid.Response;
import com.sendgrid.SendGrid;
import com.sendgrid.helpers.mail.Mail;
import com.sendgrid.helpers.mail.objects.Content;
import com.sendgrid.helpers.mail.objects.Email;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import java.io.File;
import java.io.IOException;

@RestController
public class MailController {

    @Value("${app.sendgrid.key}")
    private String appKey;

    @GetMapping("twilio")
    public Response twilio(SignUpEmailConfirmationModel signUpEmailConfirmationModel, String my_gen_code) {
        Email from = new Email("GrossInsurance@mail.com");
//        Email to = new Email("bossbmw55@gmail.com");
        Email to = new Email(signUpEmailConfirmationModel.getCustomer_email());
        String customer_full_name=signUpEmailConfirmationModel.getCustomer_name()+" "+signUpEmailConfirmationModel.getCustomer_surname();
        String subject = "GROSS Insurance";
        Content content = new Content("text/html","<html>" +
                "<body> " +
                "    <div class=\"confirm\"> " +
                "                 <img width=150px height=50px alt=\"My Image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAADTCAYAAABjh8DlAAAACXBIWXMAABJ0AAASdAHeZh94AAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTEwLTAzVDE1OjMyOjAzKzA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMC0wM1QxNjoyNTo1NyswNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMC0wM1QxNjoyNTo1NyswNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjZjExMGMyYi0wMjYwLTFhNGYtYWI3ZC1hZGNmMGFmYzU5NjMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphOWJiYjMzOC1lZGFmLWU3NDMtYWRiYy03YjZmM2FlODRhOTMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxM2U4MTY0NS1hYzMyLTJlNDctYWYwNS1kM2VkZGZiNTE5MDMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzZTgxNjQ1LWFjMzItMmU0Ny1hZjA1LWQzZWRkZmI1MTkwMyIgc3RFdnQ6d2hlbj0iMjAyMC0xMC0wM1QxNTozMjowMyswNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZjExMGMyYi0wMjYwLTFhNGYtYWI3ZC1hZGNmMGFmYzU5NjMiIHN0RXZ0OndoZW49IjIwMjAtMTAtMDNUMTY6MjU6NTcrMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45z7S3AAAwUElEQVR4nO3db8wl1X0f8O85Z+bOfZ5dYPHCwi5mvRjjAgUCMSSQBBJIAg5Y4KptXNWyIzVqpFZRX1Rq6ld90zdO1Vbqm0ZV1UhNUlVxEqVYARfbgmSxDDbYuwEMrhcD3s0u7Jo/y/55njt35pzTF3P/P/fPzL0zc2bufD/Sirn3mTnnMPffb878zjmidefvWO/nfxe2tRtElWFj2OAyIO784fZ/PPjbrptDRERE9SXa/+akhfRct4NoOmvj7d+/ynfdDCIiIqov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\" /> " +
                "        <div class=\"code\"> " +
                "            <div> <b>"+customer_full_name+",</b> <br> Ro'yxatdan o'tishni  tasdiqlovchi kod: </div> " +
                "            <h3> "+my_gen_code+" </h3> " +
                "        </div> " +
                "        <div>Kodni hech kimga aytmang</div> " +
                "    </div> " +
                "</body> " +
                "</html> ");
//        helper.addInline("logo", new File("C:\\Users\\Bossit\\java-getting-started\\src\\main\\resources\\gross-logo-light.png"));

        Mail mail = new Mail(from,subject,to,content);

        SendGrid sg = new SendGrid(appKey);
        Request request = new Request();

        try {
            request.setMethod(Method.POST);
            request.setEndpoint("mail/send");
            request.setBody(mail.build());
            Response response = sg.api((request));
            return response;
        } catch (IOException e) {
            e.printStackTrace();
        }

        System.out.println(System.getenv("SENDGRID_API_KEY"));
        return null;
    }
}